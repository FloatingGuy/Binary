char __userpurge sub_30F0B5C2<al>(int a1<eax>, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // ecx@14
  int v7; // esi@2
  int v8; // eax@2
  char result; // al@2
  int v10; // eax@4
  bool v11; // zf@4
  bool v12; // sf@4
  unsigned __int8 v13; // of@4
  int v14; // [sp+4h] [bp-14h]@5
  int v15; // [sp+8h] [bp-10h]@2
  int v16; // [sp+Ch] [bp-Ch]@2
  int v17; // [sp+10h] [bp-8h]@2
  char v18; // [sp+17h] [bp-1h]@4
  int v19; // [sp+24h] [bp+Ch]@4

  if ( a6 )
  {
    v7 = *(_DWORD *)(sub_30D29EA3(*(_DWORD *)(a1 + 8)) + 100);
    v17 = 0;
    v8 = *(_DWORD *)v7;
    v16 = 83886080;
    (*(void (__stdcall **)(int, int *, int))(v8 + 28))(v7, &v15, a3);
    result = sub_30F0B7AF(a2, a5 != 0 ? (int)&v17 : 0, a6);
    if ( result )
    {
      if ( v17 )
      {
        (*(void (__stdcall **)(int, signed int))(*(_DWORD *)v17 + 16))(v17, 83886080);
        v16 = 100663296;
      }
      v10 = a3 + 1;
      v13 = __OFSUB__(a3 + 1, a4);
      v11 = a3 + 1 == a4;
      v12 = a3 + 1 - a4 < 0;
      v18 = 0;
      v19 = a3 + 1;
      if ( (unsigned __int8)(v12 ^ v13) | v11 )
      {
        while ( 1 )
        {
          (*(void (__stdcall **)(int, int *, int))(*(_DWORD *)v7 + 28))(v7, &v15, v10);
          v14 = 0;
          if ( !(unsigned __int8)sub_30F0B7AF(a2, a5 != 0 ? (int)&v14 : 0, a6) )
            break;
          if ( v14 )
          {
            (*(void (__stdcall **)(int, int))(*(_DWORD *)v14 + 16))(v14, v16);
            v16 += 16777216;
            if ( !(unsigned __int8)sub_30E842A0(v14) )
              break;
          }
          ++v19;
          if ( v19 > a4 )
            goto LABEL_15;
          v10 = v19;
        }
      }
      else
      {
LABEL_15:
        if ( a5 )
        {
          v6 = v17;
          v17 = 0;
          *(_DWORD *)a5 = v6;
        }
        v18 = 1;
      }
      if ( v17 )
        (*(void (__stdcall **)(int))(*(_DWORD *)v17 + 4))(v17);
      result = v18;
    }
  }
  else
  {
    sub_3144D83D();
    result = 0;
  }
  return result;
}